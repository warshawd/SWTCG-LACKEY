name: validate-commit
on: [push]
jobs:
  validate-commit:
    runs-on: ubuntu-latest
    steps:
      - name: Report branch info
        run: |
          echo "ðŸ”Ž The name of your branch is ${{ github.ref }}, hope that's the one you mean!"
      - name: Check out repository code
        uses: actions/checkout@v3
      - name: Validate the plugin
        run: |
          python3 missingCardFinder.py > output.txt
      -name: Check for output
        run: |
          export FILESIZE=$(wc -c output.txt | awk '{print $1}')
      - uses: tsickert/discord-webhook@v4.0.0
        if: ${{env.FILESIZE != '0'}}
        with:
          webhook-url: https://discord.com/api/webhooks/1008230543684538408/ZXcQKzsmHHQujCjpWoeQCCRvmeIS3bMfsUJSQLn2jbmsqh63GYRvtJoX0KGdSEUXKbur
          filename: output.txt
          content: Hey coder, it looks like there was an error with your last commit.
